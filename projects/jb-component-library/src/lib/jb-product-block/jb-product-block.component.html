<a
  [href]="href"
  [target]="target"
  class="flex flex-column relative no-underline pb4 bt bb ba-ns jb-block-border br3-ns overflow-hidden h-100"
  [ngClass]="{ pb8: !hasContent(starRating) && hasContent(legal) }"
>
  <div class="h10">
    <ng-content select="jb-image"></ng-content>
  </div>
  <div #flag [ngClass]="{ pb2: !hasContent(flag) }">
    <ng-content select="jb-flag"></ng-content>
  </div>
  <div class="ph4-ns jb-grid-ph-s flex-grow-1 flex flex-column">
    <h3 class="pt2 mb0 core-blue">
      <ng-content select="[JbTitle]"></ng-content>
    </h3>
    <div #description [ngClass]="{ 'mt2 charcoal': hasContent(description) }">
      <jb-copy size="small">
        <ng-content select="[JbDescription]"></ng-content>
      </jb-copy>
    </div>

    <div class="flex flex-column flex-grow-1 justify-end">
      <div *ngIf="price" class="pt3 core-blue">
        <jb-copy size="small" class="core-blue">from</jb-copy>
        <span class="inline-flex items-start">
          <span class="mv1 inline-flex items-baseline">
            <jb-copy size="medium" class="b core-blue self-start">$</jb-copy>
            <jb-callout type="price">{{ price }}</jb-callout>
            <jb-copy size="small" class="pl1 core-blue">per person</jb-copy>
          </span>
        </span>
      </div>
      <div #productDetail [ngClass]="{ charcoal: hasContent(productDetail) }">
        <jb-copy size="small">
          <ng-content select="[JbProductDetail]"></ng-content>
        </jb-copy>
      </div>
      <div #starRating [ngClass]="{ pt3: hasContent(starRating) }">
        <ng-content select="jb-star-rating"></ng-content>
      </div>
    </div>
  </div>
  <jb-sr-only *ngIf="target === '_blank'">Opens in a new window.</jb-sr-only>
</a>
<div
  #legal
  class="absolute right-0 bottom-0 mb4 pr4-ns jb-grid-ph-s"
  [ngClass]="{ pt3: hasContent(legal) }"
>
  <ng-content select="jb-dialog-link"></ng-content>
</div>
