<nav
  class="tc relative w-100"
  role="tablist"
  [ngClass]="{ 'dib-ns': isDynamicBase }"
>
  <div class="z-2 relative">
    <jb-tab-navigation-scroll-button
      #leftScrollButton
      *ngIf="showLeftScrollButton"
      direction="left"
      [theme]="theme"
      (click)="scrollLeft()"
    ></jb-tab-navigation-scroll-button>
    <div
      #tabContainer
      class="flex-auto overflow-x-auto overflow-y-hidden overflow-hidden-ns"
      [ngClass]="{
        'tab-border-light': isLightTheme && !isDynamicBase,
        'tab-border-dark': !isLightTheme && !isDynamicBase
      }"
    >
      <div #tabContent class="inline-flex">
        <div
          class="mh5 mh0-ns flex"
          [ngClass]="{
            'tab-border-light': isLightTheme && isDynamicBase,
            'tab-border-dark': !isLightTheme && isDynamicBase
          }"
          (keydown)="onKeyDown($event)"
        >
          <button
            #tabButton
            *ngFor="let tab of tabs; trackBy: getTabPanelId; let i = index"
            type="button"
            role="tab"
            class="dib mr4 mr5-l pointer bg-transparent bn relative overflow-visible pa0 nowrap"
            [ngClass]="{
              'dark-tab': !isLightTheme,
              'dark-tab-active': tab.isActive && !isLightTheme,
              'core-blue': isLightTheme,
              'jb-active-tab': tab.isActive
            }"
            [attr.id]="tab.tabId"
            [attr.aria-controls]="tab.tabpanelId"
            [attr.aria-selected]="tab.ariaSelected"
            [attr.tabindex]="tab.isActive ? 0 : -1"
            (focus)="handleFocus(i)"
            (click)="switchActiveTab(tab)"
            (mousedown)="handleClick(tab)"
          >
            <span
              class="flex justify-center items-center pb2 avenir flex-column flex-row-ns"
            >
              <jb-icon
                *ngIf="tab.iconName"
                class="h-1-5 mr1-ns"
                [name]="tab.iconName"
                width="24"
                height="24"
              ></jb-icon>
              <span>{{ tab.label }}</span>
            </span>
            <hr
              class="bn w-0 absolute right-0 left-0"
              [class.active]="tab.isActive"
            />
          </button>
        </div>
      </div>
    </div>
    <jb-tab-navigation-scroll-button
      #rightScrollButton
      *ngIf="showRightScrollButton"
      direction="right"
      [theme]="theme"
      (click)="scrollRight()"
    ></jb-tab-navigation-scroll-button>
  </div>
</nav>

<section class="tab-window" [ngClass]="{ tl: isDynamicBase }">
  <ng-content></ng-content>
</section>
