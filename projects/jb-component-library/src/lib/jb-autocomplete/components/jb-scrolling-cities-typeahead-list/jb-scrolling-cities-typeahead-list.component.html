<div
  class="typeahead-list-box w-100 bg-white overflow-hidden"
  [class.jb-shadow]="visible"
  [class.br]="visible"
  [class.bb]="visible"
  [class.bl]="visible"
  [class.b--medium-gray]="visible"
  [class.br-rounded-4-bottom]="visible"
  [hidden]="hidden"
  [attr.aria-hidden]="hidden"
  role="listbox"
  [attr.id]="listId"
>
  <ul
    #listContainer
    class="list overflow-hidden overflow-y-scroll pl0 scrolling-cities-max-height"
  >
    <li
      #listItem
      *ngFor="let option of options; let i = index"
      role="option"
      class="ph3 pv2 copy royal-blue mr3 list-item"
      [attr.id]="getOptionListItemIdByIndex(i)"
      [class.active]="isActiveOption(option)"
      [attr.aria-selected]="isActiveOption(option)"
      [hidden]="hidden"
      (click)="selectOption(option)"
      (mouseover)="onHover(i)"
    >
      <span class="flex">
        <span [ngSwitch]="option.hasIcon">
          <jb-icon
            *ngSwitchCase="true"
            class="pr1"
            [label]="
              option.iconName === MINT_ICON ? 'Mint.' : 'Partner Airline.'
            "
            [width]="8"
            [height]="8"
            [name]="option.iconName"
            [fill]="option.fillColor"
          ></jb-icon>

          <div *ngSwitchCase="false" class="icon-empty db pr1"></div>
        </span>
        <jb-copy [innerHtml]="option.name | highlight: searchTerm"></jb-copy>
      </span>
    </li>
  </ul>

  <div
    class="bt b--medium-gray"
    role="option"
    [attr.aria-selected]="isPopUpFocused"
    [attr.id]="getOptionListItemIdByIndex(options.length)"
  >
    <div
      class="pa3 pointer db royal-blue hover-core-blue copy-s b no-underline underline-hover"
      [class.bg-royal-blue]="isPopUpFocused"
      (click)="modalLinkClicked.emit()"
    >
      <span class="flex items-center" [class.white]="isPopUpFocused">
        <jb-icon
          class="pr1 flex items-center"
          [name]="'popup'"
          width="1em"
          height="1em"
          viewBox="12 14 25 22"
        ></jb-icon>
        {{ modalLinkText }}
      </span>
    </div>
    <div class="flex bg-off-white pv2">
      <span class="pl3 pr4 flex items-center">
        <jb-icon
          class="di mr1"
          [name]="MINT_ICON"
          [fill]="MINT_GREEN"
          [width]="8"
          [height]="8"
        ></jb-icon>
        <jb-copy size="small">Mint Service</jb-copy>
      </span>
      <span class="flex items-center">
        <jb-icon
          class="di mr1"
          [name]="PARTNER_ICON"
          [fill]="SLATE_GRAY"
          [width]="8"
          [height]="8"
        ></jb-icon>
        <jb-copy size="small">Partner Airline</jb-copy>
      </span>
    </div>
  </div>
</div>
